<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1200 400" width="1200" height="400">
  <defs>
    <linearGradient id="hot" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" style="stop-color:#ff4500"/>
      <stop offset="100%" style="stop-color:#ff6b35"/>
    </linearGradient>
    <linearGradient id="warm" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" style="stop-color:#ffa500"/>
      <stop offset="100%" style="stop-color:#ffb347"/>
    </linearGradient>
    <linearGradient id="cool" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" style="stop-color:#4169e1"/>
      <stop offset="100%" style="stop-color:#6495ed"/>
    </linearGradient>
    <linearGradient id="green" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" style="stop-color:#32cd32"/>
      <stop offset="100%" style="stop-color:#3cb371"/>
    </linearGradient>
  </defs>
  
  <!-- Title -->
  <text x="600" y="25" font-family="sans-serif" font-size="16" font-weight="bold" text-anchor="middle" fill="#333">
    Fornax SIMD Benchmark - Flame Graph (Intel Core i9-10900K @ 5.0GHz)
  </text>
  
  <!-- Base layer: all samples -->
  <rect x="50" y="350" width="1100" height="30" fill="url(#cool)" stroke="#333" stroke-width="1"/>
  <text x="600" y="370" font-family="monospace" font-size="11" text-anchor="middle" fill="white">
    all (100% - 30 seconds, 29,700 samples)
  </text>
  
  <!-- Worker thread: 95.7% -->
  <rect x="50" y="310" width="1053" height="30" fill="url(#hot)" stroke="#333" stroke-width="1"/>
  <text x="576" y="330" font-family="monospace" font-size="11" text-anchor="middle" fill="white">
    worker_thread&lt;SharedState&gt; (95.7% - 28,423 samples)
  </text>
  
  <!-- Monitor thread: 3.8% -->
  <rect x="1103" y="310" width="42" height="30" fill="url(#warm)" stroke="#333" stroke-width="1"/>
  <text x="1124" y="330" font-family="monospace" font-size="9" text-anchor="middle" fill="white" transform="rotate(-90 1124 330)">
    monitor (3.8%)
  </text>
  
  <!-- Main thread: 0.5% -->
  <rect x="1145" y="310" width="5" height="30" fill="url(#green)" stroke="#333" stroke-width="1"/>
  
  <!-- run_heavy_math: 94.2% -->
  <rect x="50" y="270" width="1037" height="30" fill="url(#hot)" stroke="#333" stroke-width="1"/>
  <text x="568" y="290" font-family="monospace" font-size="11" text-anchor="middle" fill="white">
    run_heavy_math_x86 (94.2% - 27,977 samples)
  </text>
  
  <!-- cpu_relax: 1.5% -->
  <rect x="1087" y="270" width="16" height="30" fill="url(#green)" stroke="#333" stroke-width="1"/>
  <text x="1095" y="290" font-family="monospace" font-size="8" text-anchor="middle" fill="white" writing-mode="tb">
    relax
  </text>
  
  <!-- _mm512_fmadd_pd: 89.3% -->
  <rect x="50" y="230" width="983" height="30" fill="#ff2200" stroke="#333" stroke-width="1"/>
  <text x="541" y="250" font-family="monospace" font-size="11" text-anchor="middle" fill="white">
    _mm512_fmadd_pd (89.3% - 26,522 samples) - AVX-512 Fused Multiply-Add
  </text>
  
  <!-- _mm512_storeu_pd: 3.1% -->
  <rect x="1033" y="230" width="34" height="30" fill="#ff4400" stroke="#333" stroke-width="1"/>
  <text x="1050" y="250" font-family="monospace" font-size="8" text-anchor="middle" fill="white">
    store
  </text>
  
  <!-- Loop overhead: 1.8% -->
  <rect x="1067" y="230" width="20" height="30" fill="#ff6600" stroke="#333" stroke-width="1"/>
  <text x="1077" y="250" font-family="monospace" font-size="7" text-anchor="middle" fill="white">
    loop
  </text>
  
  <!-- Legend -->
  <rect x="50" y="50" width="300" height="140" fill="white" stroke="#ccc" stroke-width="1" rx="5"/>
  <text x="60" y="70" font-family="sans-serif" font-size="12" font-weight="bold" fill="#333">Legend:</text>
  
  <rect x="60" y="80" width="20" height="15" fill="url(#hot)"/>
  <text x="85" y="92" font-family="sans-serif" font-size="10" fill="#333">Hot path (Worker SIMD)</text>
  
  <rect x="60" y="100" width="20" height="15" fill="url(#warm)"/>
  <text x="85" y="112" font-family="sans-serif" font-size="10" fill="#333">Monitor thread (sensors)</text>
  
  <rect x="60" y="120" width="20" height="15" fill="url(#green)"/>
  <text x="85" y="132" font-family="sans-serif" font-size="10" fill="#333">cpu_relax() / pause</text>
  
  <rect x="60" y="140" width="20" height="15" fill="url(#cool)"/>
  <text x="85" y="152" font-family="sans-serif" font-size="10" fill="#333">Base frame</text>
  
  <text x="60" y="175" font-family="sans-serif" font-size="9" fill="#666">
    Syscall overhead: 0.28% (CPU-bound verified ✓)
  </text>
  
  <!-- Insight box -->
  <rect x="850" y="50" width="300" height="140" fill="#fffef0" stroke="#e6d94c" stroke-width="2" rx="5"/>
  <text x="1000" y="70" font-family="sans-serif" font-size="12" font-weight="bold" text-anchor="middle" fill="#333">Key Insight</text>
  <text x="860" y="90" font-family="sans-serif" font-size="10" fill="#333">✓ 94.2% time in SIMD FMA operations</text>
  <text x="860" y="108" font-family="sans-serif" font-size="10" fill="#333">✓ Only 0.28% in syscalls</text>
  <text x="860" y="126" font-family="sans-serif" font-size="10" fill="#333">✓ No scheduler stalls in hot path</text>
  <text x="860" y="144" font-family="sans-serif" font-size="10" fill="#333">✓ cpu_relax() is near-zero overhead</text>
  <text x="860" y="170" font-family="sans-serif" font-size="11" font-weight="bold" fill="#228b22">
    "Workload is CPU-bound, not syscall-bound"
  </text>
</svg>
